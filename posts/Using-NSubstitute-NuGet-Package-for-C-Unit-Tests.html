<!doctype html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="description" content="C# | Using NSubstitute NuGet Package for C# Unit Tests, microsoft, dotnet, .net, azure, mvpbuzz, mvpaward, c#, docker, devops, kubernetes, database, terraform"/><meta property="og:description" content="C# | Using NSubstitute NuGet Package for C# Unit Tests, microsoft, dotnet, .net, azure, mvpbuzz, mvpaward, c#, docker, devops, kubernetes, database, terraform"/><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="google-adsense-account" content="ca-pub-6318861990638219"><meta name="generator" content="Jekyll v4.3.3" /><meta property="og:title" content="C# Using NSubstitute NuGet Package for C# Unit Tests" /><meta property="og:locale" content="en" /><link rel="canonical" href="https://hbolajraf.net/posts/Using-NSubstitute-NuGet-Package-for-C-Unit-Tests.html" /><meta property="og:url" content="https://hbolajraf.net/posts/Using-NSubstitute-NuGet-Package-for-C-Unit-Tests.html" /><meta property="og:site_name" content="Hassan BOLAJRAF Blog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2024-02-21T00:00:00+01:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="C# Using NSubstitute NuGet Package for C# Unit Tests" /><meta name="twitter:site" content="@hbolajraf" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2024-02-21T00:00:00+01:00","datePublished":"2024-02-21T00:00:00+01:00","description":"NSubstitute is a powerful mocking library for C# unit tests, allowing developers to easily create substitute objects (mocks) for dependencies. These substitutes can be configured to behave in specific ways, making them ideal for isolating the unit under test and verifying its interactions with dependencies. In this guide, we’ll explore how to use NSubstitute in your C# unit tests with detailed examples.","headline":"C# Using NSubstitute NuGet Package for C# Unit Tests","mainEntityOfPage":{"@type":"WebPage","@id":"https://hbolajraf.net/posts/Using-NSubstitute-NuGet-Package-for-C-Unit-Tests.html"},"url":"https://hbolajraf.net/posts/Using-NSubstitute-NuGet-Package-for-C-Unit-Tests.html"}</script><title>C# | Using NSubstitute NuGet Package for C# Unit Tests | Hassan BOLAJRAF Blog</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Hassan BOLAJRAF Blog"><meta name="application-name" content="Hassan BOLAJRAF Blog"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="preconnect" href="https://cdnjs.cloudflare.com" ><link rel="dns-prefetch" href="https://cdnjs.cloudflare.com" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.25.0/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return 'mode'; } static get MODE_ATTR() { return 'data-mode'; } static get DARK_MODE() { return 'dark'; } static get LIGHT_MODE() { return 'light'; } static get ID() { return 'mode-toggle'; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener('change', () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia('(prefers-color-scheme: dark)'); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { document.documentElement.removeAttribute(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage( { direction: ModeToggle.ID, message: this.modeStatus }, '*' ); } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.notify(); } /* flipMode() */ } /* ModeToggle */ const modeToggle = new ModeToggle(); </script> <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-KPL0Y67SYB"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-KPL0Y67SYB'); </script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6318861990638219" crossorigin="anonymous"> </script><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"><img src="/assets/img/favicons/Owner.png" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a><h1 class="site-title"> <a href="/">Hassan BOLAJRAF Blog</a></h1><p class="site-subtitle fst-italic mb-0">Fostering a culture of code quality and collaboration for .NET, azure and devops enthusiasts</p></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories.html" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags.html" class="nav-link"> <i class="fa-fw fas fa-tags"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives.html" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/certificate.html" class="nav-link"> <i class="fa-fw fas fa-certificate"></i> <span>CERTIFICATE</span> </a><li class="nav-item"> <a href="/about.html" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>ABOUT</span> </a><li class="nav-item"> <a href="/privacy-policy.html" class="nav-link"> <i class="fa-fw fas fa-user-shield"></i> <span>PRIVACY POLICY</span> </a><li class="nav-item"> <a href="/contact-us.html" class="nav-link"> <i class="fa-fw fas fa-message"></i> <span>CONTACT US</span> </a></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button type="button" class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://www.linkedin.com/in/hassan-bolajraf-56a3a420/" aria-label="linkedin" target="_blank" rel="noopener noreferrer" > <i class="fab fa-linkedin"></i> </a> <a href="https://twitter.com/hbolajraf" aria-label="twitter" target="_blank" rel="noopener noreferrer" > <i class="fa-brands fa-x-twitter"></i> </a> <a href="https://www.facebook.com/hbolajraf" aria-label="facebook" target="_blank" rel="noopener noreferrer" > <i class="fab fa-facebook"></i> </a> <a href="" aria-label="Youtube" target="_blank" rel="noopener noreferrer" > <i class="fab fa-youtube"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/">Home</a> </span> <span>C# | Using NSubstitute NuGet Package for C# Unit Tests</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> Post</div><button type="button" id="search-trigger" class="btn btn-link"> <i class="fas fa-search fa-fw"></i> </button> <search class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1"><header><h2 data-toc-skip>C# | Using NSubstitute NuGet Package for C# Unit Tests</h2><div class="post-meta text-muted"> <span> Posted <time data-ts="1708470000" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Feb 21, 2024 </time> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://twitter.com/hbolajraf">Hassan BOLAJRAF</a> </em> </span> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="501 words" > <em>2 min</em> read</span></div></div></header><div class="content"><p>NSubstitute is a powerful mocking library for C# unit tests, allowing developers to easily create substitute objects (mocks) for dependencies. These substitutes can be configured to behave in specific ways, making them ideal for isolating the unit under test and verifying its interactions with dependencies. In this guide, we’ll explore how to use NSubstitute in your C# unit tests with detailed examples.</p><h2 id="installation"><span class="me-2">Installation</span><a href="#installation" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Before you can start using NSubstitute, you need to install the NSubstitute NuGet package in your C# project. You can do this via the NuGet Package Manager Console or through the Visual Studio UI:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>Install-Package NSubstitute
</pre></table></code></div></div><p>Alternatively, you can search for “NSubstitute” in the NuGet Package Manager UI and install it from there.</p><h2 id="basic-usage"><span class="me-2">Basic Usage</span><a href="#basic-usage" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Let’s start with a basic example of using NSubstitute to mock an interface. Suppose we have the following interface representing a data repository:</p><div class="language-csharp highlighter-rouge"><div class="code-header"> <span data-label-text="C#"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="k">public</span> <span class="k">interface</span> <span class="nc">IDataRepository</span>
<span class="p">{</span>
    <span class="kt">string</span> <span class="nf">GetData</span><span class="p">();</span>
<span class="p">}</span>
</pre></table></code></div></div><p>Now, let’s create a unit test for a class (<code class="language-plaintext highlighter-rouge">DataProcessor</code>) that depends on this interface. We’ll use NSubstitute to mock the <code class="language-plaintext highlighter-rouge">IDataRepository</code> interface:</p><div class="language-csharp highlighter-rouge"><div class="code-header"> <span data-label-text="C#"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre><td class="rouge-code"><pre><span class="k">using</span> <span class="nn">NSubstitute</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Xunit</span><span class="p">;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">DataProcessorTests</span>
<span class="p">{</span>
    <span class="p">[</span><span class="n">Fact</span><span class="p">]</span>
    <span class="k">public</span> <span class="k">void</span> <span class="nf">ProcessData_WhenDataIsAvailable_ReturnsProcessedData</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="c1">// Arrange</span>
        <span class="kt">var</span> <span class="n">mockRepository</span> <span class="p">=</span> <span class="n">Substitute</span><span class="p">.</span><span class="n">For</span><span class="p">&lt;</span><span class="n">IDataRepository</span><span class="p">&gt;();</span>
        <span class="n">mockRepository</span><span class="p">.</span><span class="nf">GetData</span><span class="p">().</span><span class="nf">Returns</span><span class="p">(</span><span class="s">"Mocked Data"</span><span class="p">);</span>
        <span class="kt">var</span> <span class="n">dataProcessor</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">DataProcessor</span><span class="p">(</span><span class="n">mockRepository</span><span class="p">);</span>

        <span class="c1">// Act</span>
        <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">dataProcessor</span><span class="p">.</span><span class="nf">ProcessData</span><span class="p">();</span>

        <span class="c1">// Assert</span>
        <span class="n">Assert</span><span class="p">.</span><span class="nf">Equal</span><span class="p">(</span><span class="s">"Processed Mocked Data"</span><span class="p">,</span> <span class="n">result</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><p>In this example:</p><ul><li>We create a substitute for the <code class="language-plaintext highlighter-rouge">IDataRepository</code> interface using <code class="language-plaintext highlighter-rouge">Substitute.For&lt;IDataRepository&gt;()</code>.<li>We configure the substitute’s behavior using the <code class="language-plaintext highlighter-rouge">Returns</code> method to return “Mocked Data” when the <code class="language-plaintext highlighter-rouge">GetData</code> method is called.<li>We then create an instance of <code class="language-plaintext highlighter-rouge">DataProcessor</code>, passing the mock repository as a dependency.<li>Finally, we invoke the method under test (<code class="language-plaintext highlighter-rouge">ProcessData</code>) and verify its behavior.</ul><h2 id="advanced-usage"><span class="me-2">Advanced Usage</span><a href="#advanced-usage" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>NSubstitute provides various advanced features, such as argument matching, configuring return values based on arguments, and verifying method calls. Let’s look at some examples:</p><h3 id="argument-matching"><span class="me-2">Argument Matching</span><a href="#argument-matching" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>You can use argument matching to specify different behaviors based on method arguments. For example:</p><div class="language-csharp highlighter-rouge"><div class="code-header"> <span data-label-text="C#"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">mockRepository</span><span class="p">.</span><span class="nf">GetData</span><span class="p">(</span><span class="n">Arg</span><span class="p">.</span><span class="n">Any</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;()).</span><span class="nf">Returns</span><span class="p">(</span><span class="s">"Mocked Data"</span><span class="p">);</span>
</pre></table></code></div></div><p>This configuration will return “Mocked Data” regardless of the integer argument passed to <code class="language-plaintext highlighter-rouge">GetData</code>.</p><h3 id="verifying-method-calls"><span class="me-2">Verifying Method Calls</span><a href="#verifying-method-calls" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>You can verify that specific methods were called on the substitute and optionally specify the number of times they were called. For example:</p><div class="language-csharp highlighter-rouge"><div class="code-header"> <span data-label-text="C#"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="n">mockRepository</span><span class="p">.</span><span class="nf">Received</span><span class="p">().</span><span class="nf">GetData</span><span class="p">();</span>
<span class="n">mockRepository</span><span class="p">.</span><span class="nf">Received</span><span class="p">(</span><span class="m">3</span><span class="p">).</span><span class="nf">GetData</span><span class="p">();</span> <span class="c1">// Verifies that GetData was called exactly 3 times.</span>
</pre></table></code></div></div><h3 id="configuring-callbacks"><span class="me-2">Configuring Callbacks</span><a href="#configuring-callbacks" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>You can configure substitutes to perform custom actions when methods are called. For example:</p><div class="language-csharp highlighter-rouge"><div class="code-header"> <span data-label-text="C#"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">mockRepository</span><span class="p">.</span><span class="nf">GetData</span><span class="p">().</span><span class="nf">Returns</span><span class="p">(</span><span class="n">x</span> <span class="p">=&gt;</span> <span class="s">"Mocked Data"</span><span class="p">);</span>
</pre></table></code></div></div><p>This configuration uses a lambda expression to return “Mocked Data” based on the arguments passed to <code class="language-plaintext highlighter-rouge">GetData</code>.</p><h2 id="what-next"><span class="me-2">What Next?</span><a href="#what-next" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>NSubstitute is a powerful mocking library that simplifies unit testing in C#. By allowing developers to create substitutes for dependencies with specific behaviors, NSubstitute enables more effective isolation of units under test and verification of their interactions. With its intuitive syntax and advanced features, NSubstitute is a valuable tool for writing robust and maintainable unit tests in C#.</p><p>For more information on NSubstitute, refer to the <a href="https://nsubstitute.github.io/help/getting-started/">official documentation</a>.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/categories/c/">C#</a>, <a href="/categories/tdd/">TDD</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/microsoft/" class="post-tag no-text-decoration" >microsoft</a> <a href="/tags/csharp/" class="post-tag no-text-decoration" >csharp</a> <a href="/tags/c/" class="post-tag no-text-decoration" >c#</a> <a href="/tags/tdd/" class="post-tag no-text-decoration" >tdd</a> <a href="/tags/unittest/" class="post-tag no-text-decoration" >unittest</a></div><div> <script src="https://giscus.app/client.js" data-repo="hbolajraf/hbolajraf.github.io" data-repo-id="R_kgDOKjs-PQ" data-category="Announcements" data-category-id="DIC_kwDOKjs-Pc4CazvF" data-mapping="title" data-strict="0" data-reactions-enabled="1" data-emit-metadata="1" data-input-position="top" data-theme="dark_dimmed" data-lang="en" crossorigin="anonymous" async> </script></div><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted">Share</span> <span class="share-icons"> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fhbolajraf.net%2Fposts%2FUsing-NSubstitute-NuGet-Package-for-C-Unit-Tests.html" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <a href="https://twitter.com/intent/tweet?text=C#%20%7C%20Using%20NSubstitute%20NuGet%20Package%20for%20C#%20Unit%20Tests%20-%20Hassan%20BOLAJRAF%20Blog&url=https%3A%2F%2Fhbolajraf.net%2Fposts%2FUsing-NSubstitute-NuGet-Package-for-C-Unit-Tests.html" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter"> <i class="fa-fw fa-brands fa-square-x-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=C#%20%7C%20Using%20NSubstitute%20NuGet%20Package%20for%20C#%20Unit%20Tests%20-%20Hassan%20BOLAJRAF%20Blog&u=https%3A%2F%2Fhbolajraf.net%2Fposts%2FUsing-NSubstitute-NuGet-Package-for-C-Unit-Tests.html" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy link" data-title-succeed="Link copied successfully!" > <i class="fa-fw fas fa-link pe-none fs-6"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 mb-5 text-muted"><div class="access"><section id="access-lastmod"><h2 class="panel-heading">Recently Updated</h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/Configure-Kubernetes-Single-Node-Cluster-and-Deploy-an-ASP.NET-Core-Application-Using-Docker-Hub.html">Kubernetes | Configure Kubernetes Single Node Cluster and Deploy an ASP.NET Core Application Using Docker Hub</a><li class="text-truncate lh-lg"> <a href="/posts/xUnit-and-Complex-Inline-Data-Object-Theory-Methods.html">C# | Unit Tests with xUnit and Complex Inline Data Object</a><li class="text-truncate lh-lg"> <a href="/posts/Implementing-Event-Driven-Microservices-Architecture-in-.NET.html">C# | Implementing Event Driven Microservices Architecture</a><li class="text-truncate lh-lg"> <a href="/posts/Accessing-the-Kubernetes-Dashboard-and-Creating-an-Admin-Service-Account.html">Kubernetes | Accessing the Kubernetes Dashboard and Creating an Admin Service Account</a><li class="text-truncate lh-lg"> <a href="/posts/Optimizing-Your-Web-API-Performance-in-C-Caching-Techniques.html">C# | Optimizing Your Web API Performance - Caching Techniques</a></ul></section><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/microsoft/">microsoft</a> <a class="post-tag btn btn-outline-primary" href="/tags/csharp/">csharp</a> <a class="post-tag btn btn-outline-primary" href="/tags/c/">c#</a> <a class="post-tag btn btn-outline-primary" href="/tags/azure/">azure</a> <a class="post-tag btn btn-outline-primary" href="/tags/bestpractices/">bestpractices</a> <a class="post-tag btn btn-outline-primary" href="/tags/answers/">answers</a> <a class="post-tag btn btn-outline-primary" href="/tags/azuredevops/">azuredevops</a> <a class="post-tag btn btn-outline-primary" href="/tags/questions/">questions</a> <a class="post-tag btn btn-outline-primary" href="/tags/webapi/">webapi</a> <a class="post-tag btn btn-outline-primary" href="/tags/development/">development</a></div></section></div><section id="toc-wrapper" class="ps-0 pe-4"><h2 class="panel-heading ps-3 pt-2 mb-2">Contents</h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">Further Reading</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/posts/xUnit-and-Complex-Inline-Data-Object-Theory-Methods.html" class="post-preview card h-100"><div class="card-body"> <time data-ts="1708729200" data-df="ll" > Feb 24, 2024 </time><h4 class="pt-0 my-2">C# | Unit Tests with xUnit and Complex Inline Data Object</h4><div class="text-muted"><p> In this post, we will explore how to create unit tests using xUnit, a popular unit testing framework for .NET, with complex inline data object theory methods examples. Introduction to xUnit xUnit...</p></div></div></a></article><article class="col"> <a href="/posts/C-TDD-Example-using-xUnit-and-Moq.html" class="post-preview card h-100"><div class="card-body"> <time data-ts="1694037600" data-df="ll" > Sep 7, 2023 </time><h4 class="pt-0 my-2">C# | TDD Example using xUnit and Moq</h4><div class="text-muted"><p> In Test-Driven Development (TDD), we write tests before writing the actual code. This example demonstrates how to create unit tests in C# using xUnit, how to use the Moq framework for mocking, and ...</p></div></div></a></article><article class="col"> <a href="/posts/Deploy-.net-core-NuGet-Packages-in-GitHub-Packages-Registry.html" class="post-preview card h-100"><div class="card-body"> <time data-ts="1692396000" data-df="ll" > Aug 19, 2023 </time><h4 class="pt-0 my-2">GitHub | Deploy .net core NuGet Packages in GitHub Packages Registry</h4><div class="text-muted"><p> Introduction GitHub packages registries is most popular now a days. It offers different packages registries for most used package managers, such as NuGet, npm, Docker etc. In this article, I will ...</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/posts/Clean-Architecture-with-.NET.html" class="btn btn-outline-primary" aria-label="Older" ><p>C# | Clean Architecture</p></a> <a href="/posts/xUnit-and-Complex-Inline-Data-Object-Theory-Methods.html" class="btn btn-outline-primary" aria-label="Newer" ><p>C# | Unit Tests with xUnit and Complex Inline Data Object</p></a></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p>© <time>2024</time> <a href="https://twitter.com/hbolajraf">Hassan BOLAJRAF</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author." >Some rights reserved.</span></p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/microsoft/">microsoft</a> <a class="post-tag btn btn-outline-primary" href="/tags/csharp/">csharp</a> <a class="post-tag btn btn-outline-primary" href="/tags/c/">c#</a> <a class="post-tag btn btn-outline-primary" href="/tags/azure/">azure</a> <a class="post-tag btn btn-outline-primary" href="/tags/bestpractices/">bestpractices</a> <a class="post-tag btn btn-outline-primary" href="/tags/answers/">answers</a> <a class="post-tag btn btn-outline-primary" href="/tags/azuredevops/">azuredevops</a> <a class="post-tag btn btn-outline-primary" href="/tags/questions/">questions</a> <a class="post-tag btn btn-outline-primary" href="/tags/webapi/">webapi</a> <a class="post-tag btn btn-outline-primary" href="/tags/development/">development</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask"></div><aside id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></aside><script src="https://cdn.jsdelivr.net/combine/npm/jquery@3.7.1/dist/jquery.min.js,npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js,npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/magnific-popup@1.1.0/dist/jquery.magnific-popup.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.10/dayjs.min.js,npm/dayjs@1.11.10/locale/en.min.js,npm/dayjs@1.11.10/plugin/relativeTime.min.js,npm/dayjs@1.11.10/plugin/localizedFormat.min.js,npm/tocbot@4.25.0/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/assets/js/dist/app.min.js"></script> <script> /* Note: dependent library will be loaded in `js-selector.html` */ SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{snippet}</p></article>', noResultsText: '<p class="mt-5"></p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
